/* styles/globals.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- CSS Variables ---------- */
:root {
  --background: oklch(0.98 0.02 240);
  --foreground: oklch(0.20 0.03 240);

  --card: oklch(1 0 0);
  --card-foreground: oklch(0.20 0.03 240);

  --muted: oklch(0.95 0.01 240);
  --muted-foreground: oklch(0.45 0.02 240);

  --accent: oklch(0.84 0.08 150);

  --primary: oklch(0.30 0.14 250);
  --primary-foreground: oklch(0.98 0.02 240);

  --border: oklch(0.92 0.01 240);
  --input: var(--border);
  --ring: oklch(0.60 0.12 250);

  --warning: oklch(0.86 0.11 80);
  --danger: oklch(0.62 0.18 30);
}

/* (опционально) авто-тёмная тема */
@media (prefers-color-scheme: dark) {
  :root {
    --background: oklch(0.13 0.02 240);
    --foreground: oklch(0.97 0.02 240);

    --card: oklch(0.16 0.02 240);
    --card-foreground: oklch(0.97 0.02 240);

    --muted: oklch(0.20 0.02 240);
    --muted-foreground: oklch(0.70 0.03 240);

    --accent: oklch(0.60 0.10 160);

    --primary: oklch(0.78 0.12 250);
    --primary-foreground: oklch(0.15 0.02 240);

    --border: oklch(0.25 0.02 240);
    --input: var(--border);
    --ring: oklch(0.78 0.12 250);

    --warning: oklch(0.80 0.12 80);
    --danger: oklch(0.62 0.20 30);
  }
}

/* ---------- Base Layer ---------- */
@layer base {
  html, body, #__next { height: 100%; }

  * { border-color: var(--border); }

  body {
    background: var(--background);
    color: var(--foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ---------- Components Layer ---------- */
@layer components {
  .container {
    @apply mx-auto max-w-6xl px-4;
  }

  .card {
    @apply rounded-2xl border bg-card text-card-foreground shadow-sm;
  }

  .card-hover {
    /* без произвольного значения: используем готовые утилиты */
    @apply transition hover:shadow-md hover:-translate-y-px;
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-2xl border px-3 py-2 text-sm font-medium transition;
  }

  .btn-primary {
    /* hover:brightness-95 — валидная утилита, работает в @apply */
    @apply bg-primary text-primary-foreground border-transparent hover:brightness-95;
  }

  .btn-outline {
    @apply bg-transparent text-foreground border-border;
  }

  .text-danger { color: var(--danger); }
  .text-muted-foreground { color: var(--muted-foreground); }
  .bg-muted { background-color: var(--muted); }
  .bg-accent { background-color: var(--accent); }
}
